# üîí The GPL-3.0 license
# üåê https://www.gnu.org/licenses/agpl-3.0.html
#
# ---------------------------------------------------------------------------------
#‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚°†‚£ø‚¢∑‚£ª‚£ø‚£æ‚£≥‚°á‚¢∫‚†ü‚†í‚†í‚†∂‚¢§‚£à‚†É‚¢†‚°Ä
#‚†Ñ‚†Ñ‚†Ñ‚¢Ä‚£º‚°ø‚†ã‚¢â‚£â‚£ô‚†ø‚†Å‚¢Å‚£§‚£§‚£Ñ‚°Ä‚†Ñ‚†à‚†≥‚¢æ‚£ø‚£Ñ
#‚†Ñ‚†Ñ‚†Ñ‚¢û‚°û‚†Ñ‚£¥‚£ø‚°ø‚†õ‚†ì‚†Ñ‚†â‚†â‚†â‚†â‚†π‚£∑‚£Ñ‚†Ñ‚†Ñ‚†ô‚¢ø‚£¶
#‚†Ñ‚¢Ä‚£æ‚°ü‚†Ñ‚£∏‚†ü‚†Å‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†ô‚¢ø‚°Ä‚†Ñ‚†∞‚£ø‚£Ü
#‚†Ñ‚¢∏‚£ø‚†Å‚¢∏‚£ø‚†Ñ‚†Ñ‚¢∏‚¢∏‚†Ñ‚†Ñ‚†Ñ‚¢∏‚£Ü‚¢†‚£Ä‚°Ä‚£ß‚£®‚£ª‚°Ä‚†Ñ‚¢ª‚£ø‚£¶‚£Ä
#‚†Ñ‚¢∏‚°á‚°Ä‚†ò‚£ø‚¢∞‚£ê‚¢æ‚¢ø‚°Ä‚†Ñ‚°Ä‚¢®‚£é‚£ª‚£∑‚£∂‚£ø‚£ø‚£ø‚£á‚¢Ä‚¢∏‚£ø‚£ø‚£ø‚£∑
#‚†Ñ‚¢∏‚££‚°á‚£ß‚£ø‚£ø‚£ø‚£ø‚°é‚¢≥‚£ü‚†ø‚£ø‚£ø‚£è‚£â‚£ø‚£ø‚£ø‚¢ª‚£ø‚£ø‚£æ‚£ø‚£ø‚£ø‚£ø‚£¶
#‚†Ñ‚†Ñ‚¢º‚°á‚¢π‚£ø‚°è‚¢†‚£ø‚£ø‚†Ñ‚†â‚†Ñ‚†Ñ‚†à‚†Ñ‚¢π‚£ø‚†ü‚†º‚¢ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø
#‚†Ñ‚†Ñ‚†à‚¢ø‚¢à‚£ø‚°õ‚†ò‚£ø‚°á‚†Ñ‚†Ñ‚°Ä‚†Ñ‚†Ñ‚†Ñ‚†à‚†â‚†Å‚†Ñ‚£∏‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø
#‚†Ñ‚†Ñ‚¢Ä‚£ø‚£º‚°ø‚£ø‚£Ä‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†É‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†ò‚£ª‚°è‚£ø‚£ø‚¢ª‚£ø‚£ø‚£ø‚£ø
#‚†Ñ‚†Ñ‚†æ‚¢ª‚°á‚£ø‚£∏‚£¶‚£Ä‚†Ñ‚†Ñ‚†ê‚¢ü‚†ô‚¢ª‚†É‚†Ñ‚†Ñ‚†Ñ‚£æ‚°è‚£∑‚¢ª‚°π‚°ü‚£ø‚£ø‚°ü‚¢ø
#‚†Ñ‚¢Ä‚°¥‚¢ª‚£á‚¢ø‚£∑‚¢ª‚°ü‚†ª‚£∂‚£§‚£Ä‚†â‚†Ñ‚£Ä‚£¥‚°ø‚¢£‚°ü‚†Ñ‚£ø‚¢∏‚°á‚£∞‚°ü‚†ª‚†É‚¢∏
#‚¢†‚°è‚†Ñ‚†Ñ‚†à‚†ª‚£ø‚£è‚£∑‚†Ñ‚†à‚†ª‚†â‚†õ‚†õ‚†â‚†Ñ‚†Ñ‚¢õ‚†Ñ‚†Ñ‚†ª‚¢†‚†Å‚¢õ‚†Å‚†Ñ‚†Ñ‚¢∏
#‚£º‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†à‚¢ø‚°ò‚†É‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚††‚†à‚†Ñ‚†Ñ‚†Ñ‚¢†‚£∏‚£†‚°û‚†Ñ‚†Ñ‚†Ñ‚£ø
#‚£§‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚¢∏‚£á‚°á‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†Ñ‚†à‚£ø‚†ü‚†Ñ‚†Ñ‚†Ñ‚£∏‚£ø
#
# üëæ Module for Telethon User Bot (Netfoll, Hikka, FTG)
# üîí The GPL-3.0 license
# ‚ö†Ô∏è Owner @morri_py, @morri_bio
# All rights reserved > @just_zhenya_bot
# ---------------------------------------------------------------------------------
# meta developer: @morri_py

from telethon import events
from telethon.errors.rpcerrorlist import YouBlockedUserError

from .. import loader, utils
__version__ = (1, 0, 2)

@loader.tds
class JekaMod(loader.Module):
    """–ú–æ–¥—É–ª—å –ñ–µ–∫–∞–ë–æ—Ç - @just_zhenya_bot"""

    strings = {"name": "–ñ–µ–∫–∞–ë–æ—Ç"}

    @loader.owner
    async def –¥–µ–ºcmd(self, message):
        """–î–µ–º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å: –ù–∞–ø—Ä–∏–º–µ—Ä (.–¥–µ–º –õ—é—Ç–∏/–ü–æ–Ω)"""
        demik = "/–¥–µ–º "
        args = utils.get_args_raw(message)
        reply = await message.get_reply_message()
        if not reply:
            return await message.edit("<b>–û—Ç–≤–µ—Ç—å –Ω–∞ —Ñ–æ—Ç–æ</b>")
        try:
            media = reply.media
        except Exception:
            return await message.edit("<b>–¢–æ–ª—å–∫–æ —Ñ–æ—Ç–æ</b>")
        chat = "@just_zhenya_bot"
        async with message.client.conversation(chat) as conv:
            try:
                response = conv.wait_event(
                    events.NewMessage(incoming=True, from_users=528677877)
                )
                mm = await message.client.send_file(chat, media, caption=demik + args)
                response = await response
                await mm.delete()
            except YouBlockedUserError:
                return await message.reply(
                    "<b>–†–∞–∑–±–ª–æ–∫–∏—Ä—É–π @just_zhenya_bot</b>"
                )
            await message.delete()
            await response.delete()
            await message.client.send_file(
                message.to_id,
                response.media,
                reply_to=await message.get_reply_message(),
            )
            
    
    async def —ç–¥–≤–∞–π—Åcmd(self, message):
        """–°–¥–µ–ª–∞—Ç—å –º–µ–º—á–∏–∫ –Ω–∞ —Ñ–æ—Ç–æ (.—ç–¥–≤–∞–π—Å –°–£–ü–ï–†/–ü–£–ü–ï–†)"""
        edvice = "/—ç–¥–≤–∞–π—Å "
        args = utils.get_args_raw(message)
        reply = await message.get_reply_message()
        if not reply:
            return await message.edit("<b>–û—Ç–≤–µ—Ç—å –Ω–∞ —Ñ–æ—Ç–æ</b>")
        try:
            media = reply.media
        except Exception:
            return await message.edit("<b>–¢–æ–ª—å–∫–æ —Ñ–æ—Ç–æ</b>")
        chat = "@just_zhenya_bot"
        async with message.client.conversation(chat) as conv:
            try:
                response = conv.wait_event(
                    events.NewMessage(incoming=True, from_users=528677877)
                )
                mm = await message.client.send_file(chat, media, caption=edvice + args)
                response = await response
                await mm.delete()
            except YouBlockedUserError:
                return await message.reply(
                    "<b>–†–∞–∑–±–ª–æ–∫–∏—Ä—É–π @just_zhenya_bot</b>"
                )
            await message.delete()
            await response.delete()
            await message.client.send_file(
                message.to_id,
                response.media,
                reply_to=await message.get_reply_message(),
            )             
            
    async def –∂–º—ã—Öcmd(self, message):
        """–ñ–º—ã—Ö–Ω—É—Ç—å —Ñ–æ—Ç–æ"""
        jmih = "/–∂–º—ã—Ö"
        args = utils.get_args_raw(message)
        reply = await message.get_reply_message()
        if not reply:
            return await message.edit("<b>–û—Ç–≤–µ—Ç—å –Ω–∞ —Ñ–æ—Ç–æ</b>")
        try:
            media = reply.media
        except Exception:
            return await message.edit("<b>–¢–æ–ª—å–∫–æ —Ñ–æ—Ç–æ</b>")
        chat = "@just_zhenya_bot"
        async with message.client.conversation(chat) as conv:
            try:
                response = conv.wait_event(
                    events.NewMessage(incoming=True, from_users=528677877)
                )
                mm = await message.client.send_file(chat, media, caption=jmih)
                response = await response
                await mm.delete()
            except YouBlockedUserError:
                return await message.reply(
                    "<b>–†–∞–∑–±–ª–æ–∫–∏—Ä—É–π @just_zhenya_bot</b>"
                )
            await message.delete()
            await response.delete()
            await message.client.send_file(
                message.to_id,
                response.media,
                reply_to=await message.get_reply_message(),
            )
            
    async def –∫–µ–∫cmd(self, message):
        """–û—Ç–∑–µ—Ä–∫–∞–ª–∏—Ç—å —Ñ–æ—Ç–æ"""
        kek = "/–∫–µ–∫"
        args = utils.get_args_raw(message)
        reply = await message.get_reply_message()
        if not reply:
            return await message.edit("<b>–û—Ç–≤–µ—Ç—å –Ω–∞ —Ñ–æ—Ç–æ</b>")
        try:
            media = reply.media
        except Exception:
            return await message.edit("<b>–¢–æ–ª—å–∫–æ —Ñ–æ—Ç–æ</b>")
        chat = "@just_zhenya_bot"
        async with message.client.conversation(chat) as conv:
            try:
                response = conv.wait_event(
                    events.NewMessage(incoming=True, from_users=528677877)
                )
                mm = await message.client.send_file(chat, media, caption=kek)
                response = await response
                await mm.delete()
            except YouBlockedUserError:
                return await message.reply(
                    "<b>–†–∞–∑–±–ª–æ–∫–∏—Ä—É–π @just_zhenya_bot</b>"
                )
            await message.delete()
            await response.delete()
            await message.client.send_file(
                message.to_id,
                response.media,
                reply_to=await message.get_reply_message(),
            )            

    async def –∫–µ–∫–ª–æ–ªcmd(self, message):
        """–û—Ç–∑–µ—Ä–∫–∞–ª–∏—Ç—å –≤ –¥—Ä—É–≥—É—é —Å—Ç–æ—Ä–æ–Ω—É"""
        keklol = "/–∫–µ–∫ –ª–æ–ª"
        args = utils.get_args_raw(message)
        reply = await message.get_reply_message()
        if not reply:
            return await message.edit("<b>–û—Ç–≤–µ—Ç—å –Ω–∞ —Ñ–æ—Ç–æ</b>")
        try:
            media = reply.media
        except Exception:
            return await message.edit("<b>–¢–æ–ª—å–∫–æ —Ñ–æ—Ç–æ</b>")
        chat = "@just_zhenya_bot"
        async with message.client.conversation(chat) as conv:
            try:
                response = conv.wait_event(
                    events.NewMessage(incoming=True, from_users=528677877)
                )
                mm = await message.client.send_file(chat, media, caption=keklol)
                response = await response
                await mm.delete()
            except YouBlockedUserError:
                return await message.reply(
                    "<b>–†–∞–∑–±–ª–æ–∫–∏—Ä—É–π @just_zhenya_bot</b>"
                )
            await message.delete()
            await response.delete()
            await message.client.send_file(
                message.to_id,
                response.media,
                reply_to=await message.get_reply_message(),
            )          

    async def –∂–ø–µ–≥cmd(self, message):
        """–ñ–ø–µ–≥–Ω—É—Ç—å —Ñ–æ—Ç–æ"""
        hakal = "/–∂–ø–µ–≥"
        args = utils.get_args_raw(message)
        reply = await message.get_reply_message()
        if not reply:
            return await message.edit("<b>–û—Ç–≤–µ—Ç—å –Ω–∞ —Ñ–æ—Ç–æ</b>")
        try:
            media = reply.media
        except Exception:
            return await message.edit("<b>–¢–æ–ª—å–∫–æ —Ñ–æ—Ç–æ</b>")
        chat = "@just_zhenya_bot"
        async with message.client.conversation(chat) as conv:
            try:
                response = conv.wait_event(
                    events.NewMessage(incoming=True, from_users=528677877)
                )
                mm = await message.client.send_file(chat, media, caption=hakal)
                response = await response
                await mm.delete()
            except YouBlockedUserError:
                return await message.reply(
                    "<b>–†–∞–∑–±–ª–æ–∫–∏—Ä—É–π @just_zhenya_bot</b>"
                )
            await message.delete()
            await response.delete()
            await message.client.send_file(
                message.to_id,
                response.media,
                reply_to=await message.get_reply_message(),
            )

    async def –≤—å–µ—Ç–Ω–∞–ºcmd(self, message):
        """–ù–∞–ª–æ–∂–∏—Ç—å –í—å–µ—Ç–Ω–∞–º –Ω–∞ —Ñ–æ—Ç–æ"""
        vietnam = "/–≤—å–µ—Ç–Ω–∞–º"
        args = utils.get_args_raw(message)
        reply = await message.get_reply_message()
        if not reply:
            return await message.edit("<b>–û—Ç–≤–µ—Ç—å –Ω–∞ —Ñ–æ—Ç–æ</b>")
        try:
            media = reply.media
        except Exception:
            return await message.edit("<b>–¢–æ–ª—å–∫–æ —Ñ–æ—Ç–æ</b>")
        chat = "@just_zhenya_bot"
        async with message.client.conversation(chat) as conv:
            try:
                response = conv.wait_event(
                    events.NewMessage(incoming=True, from_users=528677877)
                )
                mm = await message.client.send_file(chat, media, caption=vietnam)
                response = await response
                await mm.delete()
            except YouBlockedUserError:
                return await message.reply(
                    "<b>–†–∞–∑–±–ª–æ–∫–∏—Ä—É–π @just_zhenya_bot</b>"
                )
            await message.delete()
            await response.delete()
            await message.client.send_file(
                message.to_id,
                response.media,
                reply_to=await message.get_reply_message(),
            )              
            
    async def —Ç–ª–µ–Ωcmd(self, message):
        """–ù–∞–ª–æ–∂–∏—Ç—å —Ç–ª–µ–Ω –Ω–∞ —Ñ–æ—Ç–æ"""
        tlen = "/—Ç–ª–µ–Ω"
        args = utils.get_args_raw(message)
        reply = await message.get_reply_message()
        if not reply:
            return await message.edit("<b>–û—Ç–≤–µ—Ç—å –Ω–∞ —Ñ–æ—Ç–æ</b>")
        try:
            media = reply.media
        except Exception:
            return await message.edit("<b>–¢–æ–ª—å–∫–æ —Ñ–æ—Ç–æ</b>")
        chat = "@just_zhenya_bot"
        async with message.client.conversation(chat) as conv:
            try:
                response = conv.wait_event(
                    events.NewMessage(incoming=True, from_users=528677877)
                )
                mm = await message.client.send_file(chat, media, caption=tlen)
                response = await response
                await mm.delete()
            except YouBlockedUserError:
                return await message.reply(
                    "<b>–†–∞–∑–±–ª–æ–∫–∏—Ä—É–π @just_zhenya_bot</b>"
                )
            await message.delete()
            await response.delete()
            await message.client.send_file(
                message.to_id,
                response.media,
                reply_to=await message.get_reply_message(),
            )                 
